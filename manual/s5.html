<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="def.css" type="text/css">
</head>
<body>

<h1><a name="layerwin">レイヤウィンドウ</a></h1>
<div class="frame">
レイヤに関する操作を行います。<br>
<h2>操作</h2>
<ul>
<li><i>左クリック</i><br>
クリックした位置のレイヤを選択し、編集対象のレイヤとします。</li>
<li><i>左ダブルクリック</i><br>
レイヤの設定を行います。</li>
<li><i>右クリック</i><br>
クリックした位置のレイヤに対するサブメニューが表示されます。</li>
<li><i>左ボタンでドラッグ＆ドロップ</i><br>
レイヤの位置を変更します。</li>
<li><i>Ctrl＋左クリック</i><br>
レイヤを選択し、さらにそのレイヤ以外を非表示にします。</li>
<li><i>レイヤウィンドウに画像ファイルをドラッグ＆ドロップ</i><br>
その画像からイメージを読み込み、レイヤとして新規追加します。<br>
複数ファイルのドラッグ＆ドロップも可能です。
</li>
</ul>

<h2>レイヤの情報</h2>
<img src="layer.png" width="180" height="35"><br>
<br>
<ul>
<li><i>A</i><br>
レイヤ画像のプレビューです。<br>
プレビューイメージはレイヤが変更された時などに更新されます。<br>
リアルタイムでは更新されません。<br>
手動で更新させたい場合は、レイヤが選択されている状態で、<br>
チェックやバー以外の部分を左クリックしてください。</li>
<li><i>B</i><br>
レイヤの線の色が表示されます。</li>
<li><i>C</i><br>
クリックすることで、レイヤの表示/非表示を切り替えることができます。</li>
<li><i>D</i><br>
レイヤ名が表示されます。</li>
<li><i>E</i><br>
マスクレイヤの指定です。<br>
「OFF」「マスクレイヤ」「下レイヤをマスクに」の３通りがあります。<br>
クリックで「マスクレイヤ」ON/OFF の切り替え、<br>
ダブルクリック または Shift＋左クリック で「下レイヤをマスクに」にすることができます。</li>
<li><i>F</i><br>
塗りつぶしの判定元レイヤのチェックです。<br>
クリックで ON/OFF の切り替えができます。</li>
<li><i>G</i><br>
グループレイヤの指定です。<br>
「OFF」「グループ化」「下レイヤをグループ化」の３通りがあります。<br>
クリックで「グループ化」ON/OFF の切り替え、<br>
ダブルクリック または Shift＋左クリック で「下レイヤをグループ化」にすることができます。</li>
<li><i>H</i><br>
クリックで、チェックの ON/OFF ができます。<br>
メニューからの「チェックレイヤをすべて結合」や「チェックレイヤを表示/非表示」の実行時に使用します。</li>
<li><i>I</i><br>
レイヤの不透明度を指定します。<br>
クリック/ドラッグでバーの値を変更できます。</li>
</ul>

<h2>レイヤ設定</h2>
<ul>
<li><i>名前</i><br>
レイヤの名前を指定します。</li>
<li><i>不透明度</i><br>
レイヤの不透明度を指定します。</li>
<li><i>色</i><br>
レイヤの線の色を指定します。<br>
パレットでは、<span class="ctl">左クリック</span> で指定した色を呼び出し、<br>
<span class="ctl">Ctrl＋左クリック or 右クリック</span> で現在の色を登録します。</li>
</ul>

<h2>メニュー</h2>
<ul>
<li><i>新規作成</i><br>
レイヤを新規作成し、現在のレイヤの上に追加します。</li>
<li><i>画像から新規作成</i><br>
画像ファイルからイメージを読み込み、それをレイヤとして新規作成します。</li>
<li><i>複製</i><br>
現在のレイヤを複製します。</li>
<li><i>削除</i><br>
現在のレイヤを削除します。</li>
<li><i>現在のレイヤをクリア</i><br>
現在のレイヤのイメージを全て消去して透明にします。</li>
<li><i>下レイヤに結合してクリア</i><br>
現在のレイヤのイメージを下のレイヤに結合させ、<br>
その後、現在のレイヤをクリアします。</li>
<li><i>下レイヤに結合して削除</i><br>
現在のレイヤと下のレイヤのイメージを結合させ、<br>
その後、現在のレイヤを削除します。</li>
<li><i>下レイヤに減算結合</i><br>
下のレイヤに、現在のレイヤのイメージを減算して結合します。<br>
現在のレイヤを白色として合成するような状態になります。</li>
<li><i>すべての表示レイヤを結合</i><br>
現在表示されている全てのレイヤを一番下の表示レイヤに結合させます。</li>
<li><i>すべての表示レイヤを新規レイヤに結合</i><br>
現在表示されている全てのレイヤのイメージを新規レイヤに結合します。</li>
<li><i>すべてのチェックレイヤを結合</i><br>
レイヤでチェックされているすべてのレイヤを結合します。</li>
<li><i>上に移動/下に移動</i><br>
現在のレイヤの位置を一つ上/下に移動します。</li>
<li><i>設定</i><br>
レイヤの設定を行います。</li>
<li><i>すべて表示</i><br>
すべてのレイヤを表示させます。</li>
<li><i>すべて非表示</i><br>
すべてのレイヤを非表示にします。</li>
<li><i>現在のレイヤのみ表示</i><br>
現在のレイヤのみ表示し、他のレイヤを非表示にします。</li>
<li><i>グループレイヤを表示/非表示</i><br>
現在のレイヤと、「グループレイヤ」によってグループに属するレイヤの表示状態を反転させます。<br>
グループの関係性は移動ツールでのグループと同じです。</li>
<li><i>チェックレイヤを表示/非表示</i><br>
チェックされているすべてのレイヤの表示状態を反転させます。</li>
<li><i>アルファ付きPNGに保存</i><br>
現在のレイヤのイメージをアルファ付きのPNG (32BIT) に保存します。</li>
</ul>

<h2>右クリックメニュー</h2>
レイヤを右クリックした場合のメニューです。<br>
<br>
<ul>
<li><i>パレット</i><br>
レイヤ設定でセットされたパレットの色を呼び出して、色を変更することができます。</li>
<li><i>塗りつぶし判定元</i><br>
塗りつぶし判定元の指定を ON/OFF します。</li>
<li><i>リスト上で色を強調</i><br>
リスト上で、このレイヤの背景の色を変更して強調します。<br>
レイヤを目立つようにしたい場合に使ってください。</li>
</ul>
</div>

<h1>各説明</h1>
<div class="frame">
<h2>マスクレイヤについて</h2>
マスクレイヤを指定すると、そのレイヤの点より値が大きい濃度の色を描画できなくなります。<br>
レイヤをマスクイメージとして扱って、<br>
そのレイヤで色が塗られていない部分には描画できないようにしたりすることができます。<br>
<br>
マスクレイヤはすべてのツールの描画時・フィルタ描画時などで有効です。<br>
<br><br>
マスクレイヤには３通りの状態があります。<br>
[1] マスクレイヤ指定なし<br>
[2] 任意の一つのレイヤをマスクレイヤにする<br>
[3] レイヤの一つ下にあるレイヤをマスクレイヤにする<br>
<br>
<big>＜任意の一つのレイヤをマスクレイヤにする＞</big><br>
<br>
レイヤのマスクアイコン部分を左クリックして、マスクレイヤの ON/OFF の変更ができます。<br>
<br>
この場合、マスクレイヤに指定できるのは一つのレイヤだけです。<br>
なお、自身のレイヤがマスクレイヤとなった場合は、マスクなしとなります。<br>
<br>
複数指定は出来ないので、<br>
マスクレイヤが指定されている状態で別のレイヤをマスクレイヤにしようとした場合は、<br>
マスクレイヤが切り替わります。<br>
<br>
<big>＜下レイヤをマスクにする＞</big><br>
<br>
レイヤのマスクアイコン部分を <span class="ctl">左ダブルクリック or Shift＋左クリック</span> することで、ON/OFF の変更ができます。<br>
<br>
この指定があるレイヤでは、常に一つ下のレイヤをマスクレイヤとすることができます。<br>
この指定は各レイヤで設定可能です。<br>
なお、通常のマスクレイヤ指定よりも下レイヤマスクの方が優先されます。<br>
<br>
また、「下レイヤをマスクに」が下方向に複数のレイヤで連続して指定されている場合、<br>
その一番下のマスク指定がないレイヤがマスクレイヤとなります。<br>
<br>
<br>
<big>【◆ マスクレイヤの例】</big><br>
<br>
<div class="exsample">
[レイヤA] <b>下レイヤマスク</b><br>
[レイヤB]<br>
[レイヤC] <b>通常のマスクレイヤ指定</b><br>
[レイヤD] <b>下レイヤマスク</b><br>
[レイヤE] <b>下レイヤマスク</b><br>
[レイヤF]
</div>
<br>
[レイヤA] は「下レイヤマスク」が ON なので、その下の [レイヤB] がマスクになります。<br>
[レイヤB] はマスク指定がないので、マスクレイヤに指定されている [レイヤC] がマスクになります。<br>
[レイヤC] は自身がマスクレイヤに指定されているので、このレイヤを描画する際はマスクなしになります。<br>
[レイヤD] は「下レイヤマスク」が ON ですが、その下 [レイヤE] も「下レイヤマスク」が ON なので、<br>
さらにその下の「下レイヤマスク」が OFF となっている [レイヤF] がマスクとなります。<br>
[レイヤE] は下の [レイヤF] がマスクとなります。<br>
[レイヤF] はマスク指定がないので、マスクレイヤの [レイヤC] がマスクとなります。

<h2><a name="layergroup">グループレイヤについて</a></h2>
レイヤをグループ化すると、移動ツール時に、<br>
指定した複数のレイヤを同時に移動させることができます。<br>
<br>
グループレイヤは基本的に移動ツール時のみに適用される機能です。<br>
<br>
グループの状態には３通りあります。<br>
[1] グループ指定なし<br>
[2] 任意の複数レイヤをグループ化する<br>
[3] 複数の連続した下レイヤをグループ化する<br>
<br>
<big>＜任意の複数レイヤのグループ化＞</big><br>
<br>
複数レイヤをグループ化させたい場合は、<br>
レイヤのフォルダアイコンを左クリックして、グループ化の ON/OFF を変更できます。<br>
<br>
この状態で移動ツールを使って移動させると、<br>
グループ化されているレイヤが同時に移動します。<br>
<br>
<big>＜複数の連続した下レイヤをグループ化する＞</big><br>
<br>
下レイヤを関連付けて常にグループ化したい場合は、<br>
レイヤのフォルダアイコンを <span class="ctl">左ダブルクリック or Shift＋左クリック</span> で、ON/OFF を変更できます。<br>
<br>
「下レイヤをグループ化」が ON のレイヤは、常にその下のレイヤをグループとみなします。<br>
また、通常のグループ化レイヤよりも、「下レイヤをグループ化」の方が優先されます。<br>
<br>
なお、「下レイヤをグループ化」が下方向に連続して複数レイヤ続いている場合は、<br>
さらにその下のレイヤも同じグループとみなされます。<br>
※上方向には検索されません。<br>
<br>
<br>
<big>【◆ グループレイヤの例】</big><br>
<br>
<div class="exsample">
[レイヤA] <b>下レイヤをグループ化</b><br>
[レイヤB] <b>下レイヤをグループ化</b><br>
[レイヤC]<br>
[レイヤD] <b>通常のグループ化</b>
</div>
<br>
<ul>
<li>[レイヤA] では、「下レイヤをグループ化」が ON なので、その下の [レイヤB] もグループになりますが、<br>
その [レイヤB] も「下レイヤをグループ化」が ON なので、さらにその下の [レイヤC] もグループになります。</li>
<li>[レイヤB] では、その下の [レイヤC] もグループとなります。<br>
なお、上方向にある [レイヤA] はグループとは見なされません。</li>
<li>[レイヤC] では、何も指定がないので、通常のグループ化の [レイヤD] がグループとなります。</li>
<li>[レイヤD] は自身が通常のグループ化なので、他にグループとなるものはありません。</li>
</ul>
</div>

</body>
</html>